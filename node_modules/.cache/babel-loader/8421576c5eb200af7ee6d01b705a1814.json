{"ast":null,"code":"var _jsxFileName = \"H:\\\\Licenta\\\\my-app\\\\src\\\\components\\\\Account\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport '../Account/index.css';\nimport app, { auth } from 'firebase/app';\nimport 'firebase/firebase-database';\nimport 'firebase/firebase-storage';\nimport Firebase from '../Firebase/firebase';\nimport { PasswordForgetForm } from '../PasswordForget';\nimport PasswordChangeForm from '../PasswordChange';\n\nfunction AccountPage() {\n  const [currentUser, setCurrentUser] = useState();\n  useEffect(() => {\n    var app = require('firebase/app');\n\n    require('firebase/auth');\n\n    require('firebase/database');\n\n    app.auth().onAuthStateChanged(email => {\n      setCurrentUser(email);\n    });\n  }, []);\n  let profileView = document.getElementById('profile-view'),\n      img = document.getElementById('img');\n  let file = {};\n\n  function chooseFile(e) {\n    file = e.target.files[0];\n  }\n\n  function submitUpload() {\n    Firebase.storage().ref('users/' + auth.user.uid + '/profile.jpg').put(file).then(function () {\n      console.log('successfully uploaded');\n    }).catch(error => {\n      console.log(error.message);\n    });\n  }\n\n  const db = app.firestore();\n  const [fileUrl, setFileUrl] = React.useState(null);\n  const [users, setUsers] = React.useState([]);\n\n  const onFileChange = async e => {\n    const file = e.target.files[0];\n    const storageRef = app.storage().ref();\n    const fileRef = storageRef.child(file.name);\n    await fileRef.put(file);\n    setFileUrl(await fileRef.getDownloadURL());\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const username = e.target.username.value;\n\n    if (!username) {\n      return;\n    }\n\n    db.collection(\"users\").doc(username).set({\n      name: username,\n      avatar: fileUrl\n    });\n  };\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const usersCollection = await db.collection('users').get();\n      setUsers(usersCollection.docs.map(doc => {\n        return doc.data();\n      }));\n    };\n\n    fetchUsers();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"footerr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, currentUser.users.map(user => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"100\",\n      height: \"100\",\n      src: user.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }\n    }, user.name));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: \"chooseFile(event)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button\",\n    onClick: \"submitUpload()\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"uploaded\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"Information\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info_data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, \"Email\"), currentUser && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 35\n    }\n  }, currentUser.email)))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"projects\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, \"Tools\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"projects_data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, \"Recent\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, \"Lorem ipsum dolor sit amet.\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 18\n    }\n  }, \"Most Viewed\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, \"dolor sit amet.\")))))));\n}\n\nexport default AccountPage; // {users.map((user) => {\n//   return (\n//   <li key={user.name}>\n//     <img width=\"100\" height=\"100\" src={user.avatar} alt={user.name}/>\n//     <p>{user.name}</p>\n//     </li>\n// );\n// })}","map":{"version":3,"sources":["H:/Licenta/my-app/src/components/Account/index.js"],"names":["React","useState","useEffect","app","auth","Firebase","PasswordForgetForm","PasswordChangeForm","AccountPage","currentUser","setCurrentUser","require","onAuthStateChanged","email","profileView","document","getElementById","img","file","chooseFile","e","target","files","submitUpload","storage","ref","user","uid","put","then","console","log","catch","error","message","db","firestore","fileUrl","setFileUrl","users","setUsers","onFileChange","storageRef","fileRef","child","name","getDownloadURL","onSubmit","preventDefault","username","value","collection","doc","set","avatar","fetchUsers","usersCollection","get","docs","map","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../Account/index.css';\r\nimport app, { auth } from 'firebase/app';\r\nimport 'firebase/firebase-database';\r\nimport 'firebase/firebase-storage';\r\nimport Firebase from '../Firebase/firebase';\r\n\r\nimport { PasswordForgetForm } from '../PasswordForget';\r\nimport PasswordChangeForm from '../PasswordChange';\r\n\r\n \r\nfunction AccountPage (){\r\n  const [currentUser, setCurrentUser] = useState();\r\n  useEffect (() =>{\r\n      var app = require('firebase/app');\r\n      require('firebase/auth');\r\n      require('firebase/database');   \r\n      app.auth().onAuthStateChanged((email) => {\r\n          setCurrentUser(email)\r\n      })\r\n  }, [])\r\n\r\n  let profileView = document.getElementById('profile-view'),\r\n  img = document.getElementById('img');\r\n\r\n  let file={};\r\n\r\n  function chooseFile(e){\r\n    file = e.target.files[0];\r\n  }\r\n\r\n  function submitUpload(){\r\n    Firebase.storage().ref('users/' + auth.user.uid + '/profile.jpg').put(file).then(function () {\r\n      console.log('successfully uploaded')\r\n    }).catch(error => {\r\n      console.log(error.message);\r\n    })\r\n  }\r\n\r\n \r\n\r\n  const db = app.firestore()\r\n\r\n  const [fileUrl, setFileUrl] = React.useState(null)\r\n  const [users, setUsers] = React.useState([])\r\n\r\n  const onFileChange = async(e) => {\r\n    const file = e.target.files[0]\r\n    const storageRef = app.storage().ref()\r\n    const fileRef = storageRef.child(file.name)\r\n    await fileRef.put(file)\r\n    setFileUrl(await fileRef.getDownloadURL())\r\n \r\n  }\r\n\r\n  const onSubmit = (e) =>{\r\n    e.preventDefault()\r\n    const username = e.target.username.value;\r\n    if(!username){\r\n      return\r\n    }\r\n    db.collection(\"users\").doc(username).set({\r\n      name: username,\r\n      avatar: fileUrl\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      const usersCollection = await db.collection('users').get()\r\n      setUsers(usersCollection.docs.map(doc => {\r\n        return doc.data()\r\n      }))\r\n    }\r\n    fetchUsers()\r\n  }, [])\r\n\r\n  return(\r\n  <div className=\"footerr\">\r\n\r\n\r\n    {/* <PasswordForgetForm />\r\n    <PasswordChangeForm /> */}\r\n  <div class=\"wrapper\">\r\n  <div class=\"left\">\r\n      <h4>\r\n      {currentUser.users.map((user) => {\r\n  return (\r\n    <div>\r\n    <img width=\"100\" height=\"100\" src={user.avatar} />\r\n    <p>{user.name}</p>\r\n    </div>\r\n    );\r\n})}       \r\n      </h4>\r\n      <div>\r\n        <input type=\"file\" onChange='chooseFile(event)'/>\r\n      </div>\r\n      <div className=\"button\" onClick='submitUpload()'>uploaded</div>\r\n  </div>\r\n  <div class=\"right\">\r\n      <div class=\"info\">\r\n          <h3>Information</h3>\r\n          <div class=\"info_data\">\r\n               <div class=\"data\">\r\n                  <h4>Email</h4>\r\n                  {currentUser && <p>{currentUser.email}</p>}\r\n               </div>\r\n               \r\n          </div>\r\n      </div>\r\n    \r\n    <div class=\"projects\">\r\n          <h3>Tools</h3>\r\n          <div class=\"projects_data\">\r\n               <div class=\"data\">\r\n                  <h4>Recent</h4>\r\n                  <p>Lorem ipsum dolor sit amet.</p>\r\n               </div>\r\n               <div class=\"data\">\r\n                 <h4>Most Viewed</h4>\r\n                  <p>dolor sit amet.</p>\r\n            </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</div>\r\n  </div>\r\n  \r\n  );\r\n} \r\nexport default AccountPage;\r\n\r\n// {users.map((user) => {\r\n//   return (\r\n//   <li key={user.name}>\r\n//     <img width=\"100\" height=\"100\" src={user.avatar} alt={user.name}/>\r\n//     <p>{user.name}</p>\r\n//     </li>\r\n// );\r\n// })}"]},"metadata":{},"sourceType":"module"}